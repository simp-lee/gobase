{{ define "pagination" }}
{{ if gt .Pagination.TotalPages 1 }}
<nav aria-label="分页导航" class="flex items-center justify-center mt-8 space-x-1">
    {{/* Previous button */}}
    {{ if .Pagination.HasPreviousPage }}
    <a href="{{ .BaseURL }}?page={{ .Pagination.PreviousPage }}&page_size={{ .Pagination.ItemsPerPage }}"
       hx-get="{{ .BaseURL }}?page={{ .Pagination.PreviousPage }}&page_size={{ .Pagination.ItemsPerPage }}"
       hx-target="#content"
       hx-swap="innerHTML"
       class="inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-indigo-600 transition-colors duration-200">
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
        上一页
    </a>
    {{ else }}
    <span class="inline-flex items-center px-3 py-2 text-sm font-medium text-gray-400 bg-gray-100 rounded-lg cursor-not-allowed select-none">
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
        上一页
    </span>
    {{ end }}

    {{/* Leading ellipsis */}}
    {{ if gt .Pagination.FirstPageInRange .Pagination.FirstPage }}
    <a href="{{ .BaseURL }}?page={{ .Pagination.FirstPage }}&page_size={{ .Pagination.ItemsPerPage }}"
       hx-get="{{ .BaseURL }}?page={{ .Pagination.FirstPage }}&page_size={{ .Pagination.ItemsPerPage }}"
       hx-target="#content"
       hx-swap="innerHTML"
       class="inline-flex items-center justify-center w-10 h-10 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-indigo-600 transition-colors duration-200">
        {{ .Pagination.FirstPage }}
    </a>
    {{ if gt .Pagination.FirstPageInRange (add .Pagination.FirstPage 1) }}
    <span class="inline-flex items-center justify-center w-10 h-10 text-sm text-gray-400 select-none">&hellip;</span>
    {{ end }}
    {{ end }}

    {{/* Page number buttons */}}
    {{ $currentPage := .Pagination.CurrentPage }}
    {{ $baseURL := .BaseURL }}
    {{ $pageSize := .Pagination.ItemsPerPage }}
    {{ range $p := .Pagination.Pages }}
    {{ if eq $p $currentPage }}
    <span class="inline-flex items-center justify-center w-10 h-10 text-sm font-bold text-white bg-indigo-600 rounded-lg shadow-sm select-none">
        {{ $p }}
    </span>
    {{ else }}
    <a href="{{ $baseURL }}?page={{ $p }}&page_size={{ $pageSize }}"
       hx-get="{{ $baseURL }}?page={{ $p }}&page_size={{ $pageSize }}"
       hx-target="#content"
       hx-swap="innerHTML"
       class="inline-flex items-center justify-center w-10 h-10 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-indigo-600 transition-colors duration-200">
        {{ $p }}
    </a>
    {{ end }}
    {{ end }}

    {{/* Trailing ellipsis */}}
    {{ if lt .Pagination.LastPageInRange .Pagination.LastPage }}
    {{ if lt (add .Pagination.LastPageInRange 1) .Pagination.LastPage }}
    <span class="inline-flex items-center justify-center w-10 h-10 text-sm text-gray-400 select-none">&hellip;</span>
    {{ end }}
    <a href="{{ .BaseURL }}?page={{ .Pagination.LastPage }}&page_size={{ .Pagination.ItemsPerPage }}"
       hx-get="{{ .BaseURL }}?page={{ .Pagination.LastPage }}&page_size={{ .Pagination.ItemsPerPage }}"
       hx-target="#content"
       hx-swap="innerHTML"
       class="inline-flex items-center justify-center w-10 h-10 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-indigo-600 transition-colors duration-200">
        {{ .Pagination.LastPage }}
    </a>
    {{ end }}

    {{/* Next button */}}
    {{ if .Pagination.HasNextPage }}
    <a href="{{ .BaseURL }}?page={{ .Pagination.NextPage }}&page_size={{ .Pagination.ItemsPerPage }}"
       hx-get="{{ .BaseURL }}?page={{ .Pagination.NextPage }}&page_size={{ .Pagination.ItemsPerPage }}"
       hx-target="#content"
       hx-swap="innerHTML"
       class="inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-indigo-600 transition-colors duration-200">
        下一页
        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
    </a>
    {{ else }}
    <span class="inline-flex items-center px-3 py-2 text-sm font-medium text-gray-400 bg-gray-100 rounded-lg cursor-not-allowed select-none">
        下一页
        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
    </span>
    {{ end }}
</nav>
{{ end }}
{{ end }}
