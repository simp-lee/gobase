{{ template "base" . }}

{{ define "title" }}用户管理{{ end }}

{{ define "content" }}
<div id="content">
    <div class="flex items-center justify-between mb-6">
        <h1 class="text-2xl font-bold text-gray-900">用户管理</h1>
        <a href="/users/new"
           class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors duration-200 shadow-sm">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
            </svg>
            新建用户
        </a>
    </div>

    <div class="overflow-x-auto bg-white rounded-lg shadow">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">ID</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Name</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Email</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Created At</th>
                    <th scope="col" class="px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider">Actions</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                {{ range .Users }}
                <tr class="hover:bg-gray-50 transition-colors duration-150">
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ .ID }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{ .Name }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ .Email }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ .CreatedAt.Format "2006-01-02 15:04:05" }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm space-x-3">
                        <a href="/users/{{ .ID }}/edit"
                           class="text-indigo-600 hover:text-indigo-900 font-medium transition-colors duration-200">编辑</a>
                        <button hx-delete="/users/{{ .ID }}"
                                hx-headers='{"X-CSRF-Token": "{{ $.CSRFToken }}"}'
                                hx-target="closest tr"
                                hx-swap="outerHTML swap:0.5s"
                                hx-confirm="确定要删除此用户吗？"
                                class="text-red-600 hover:text-red-900 font-medium transition-colors duration-200">删除</button>
                    </td>
                </tr>
                {{ else }}
                <tr>
                    <td colspan="5" class="px-6 py-12 text-center text-sm text-gray-400">暂无用户数据</td>
                </tr>
                {{ end }}
            </tbody>
        </table>
    </div>

    {{ template "pagination" .Pagination }}
</div>

{{ template "toast" . }}
{{ end }}
